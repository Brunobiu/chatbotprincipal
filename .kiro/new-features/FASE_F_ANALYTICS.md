# FASE F - ANALYTICS E RELAT√ìRIOS

**Prioridade:** üîµ BAIXA  
**Tempo Estimado:** 4-6 horas  
**Status:** ‚è≥ Pendente

---

## üéØ Objetivo

Implementar sistema de analytics avan√ßado com relat√≥rios detalhados, gr√°ficos e exporta√ß√£o de dados.

---

## üìã Funcionalidades

### F1: Dashboard de Analytics

**Nova aba lateral:** "Analytics"

**Layout:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìä Analytics                                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Per√≠odo: [√öltimos 30 dias ‚ñº] [01/01/2026] at√© [09/02/2026] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ Resumo Geral                                               ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ ‚îÇ Clientes ‚îÇ ‚îÇ Conversas‚îÇ ‚îÇ Mensagens‚îÇ ‚îÇTaxa Conv.‚îÇ      ‚îÇ
‚îÇ ‚îÇ    45    ‚îÇ ‚îÇ   1.234  ‚îÇ ‚îÇ  8.567   ‚îÇ ‚îÇ   18%    ‚îÇ      ‚îÇ
‚îÇ ‚îÇ  +12%    ‚îÇ ‚îÇ  +25%    ‚îÇ ‚îÇ  +15%    ‚îÇ ‚îÇ  -2%     ‚îÇ      ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ Crescimento de Clientes (√∫ltimos 6 meses)                  ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [Gr√°fico de linha: Clientes ao longo do tempo]         ‚îÇ ‚îÇ
‚îÇ ‚îÇ 50 ‚î§                                              ‚ï≠‚îÄ    ‚îÇ ‚îÇ
‚îÇ ‚îÇ 40 ‚î§                                        ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ     ‚îÇ ‚îÇ
‚îÇ ‚îÇ 30 ‚î§                              ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ           ‚îÇ ‚îÇ
‚îÇ ‚îÇ 20 ‚î§                    ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ                     ‚îÇ ‚îÇ
‚îÇ ‚îÇ 10 ‚î§          ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ                               ‚îÇ ‚îÇ
‚îÇ ‚îÇ  0 ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ ‚îÇ
‚îÇ ‚îÇ    Set  Out  Nov  Dez  Jan  Fev                        ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ Receita Mensal (MRR)                                       ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [Gr√°fico de barras: Receita por m√™s]                   ‚îÇ ‚îÇ
‚îÇ ‚îÇ R$ 5k ‚î§                                           ‚ñà‚ñà‚ñà   ‚îÇ ‚îÇ
‚îÇ ‚îÇ R$ 4k ‚î§                                     ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚îÇ ‚îÇ
‚îÇ ‚îÇ R$ 3k ‚î§                               ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚îÇ ‚îÇ
‚îÇ ‚îÇ R$ 2k ‚î§                         ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚îÇ ‚îÇ
‚îÇ ‚îÇ R$ 1k ‚î§                   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚îÇ ‚îÇ
‚îÇ ‚îÇ R$ 0  ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ ‚îÇ
‚îÇ ‚îÇ       Set  Out  Nov  Dez  Jan  Fev                     ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ Distribui√ß√£o de Planos                                     ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [Gr√°fico de pizza: % por plano]                        ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                                          ‚îÇ ‚îÇ
‚îÇ ‚îÇ         Mensal: 45% (20 clientes)                       ‚îÇ ‚îÇ
‚îÇ ‚îÇ         Trimestral: 35% (16 clientes)                   ‚îÇ ‚îÇ
‚îÇ ‚îÇ         Semestral: 20% (9 clientes)                     ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ Taxa de Convers√£o (Trial ‚Üí Pago)                           ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [Gr√°fico de linha: Taxa de convers√£o ao longo do tempo]‚îÇ ‚îÇ
‚îÇ ‚îÇ 30% ‚î§                                                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ 25% ‚î§     ‚ï≠‚îÄ‚îÄ‚îÄ‚ïÆ                                         ‚îÇ ‚îÇ
‚îÇ ‚îÇ 20% ‚î§ ‚ï≠‚îÄ‚îÄ‚îÄ‚ïØ   ‚ï∞‚îÄ‚îÄ‚îÄ‚ïÆ     ‚ï≠‚îÄ‚îÄ‚îÄ‚ïÆ                          ‚îÇ ‚îÇ
‚îÇ ‚îÇ 15% ‚î§‚îÄ‚ïØ           ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ   ‚ï∞‚îÄ‚îÄ‚îÄ                        ‚îÇ ‚îÇ
‚îÇ ‚îÇ 10% ‚î§                                                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ  5% ‚î§                                                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ  0% ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ ‚îÇ
‚îÇ ‚îÇ     Set  Out  Nov  Dez  Jan  Fev                       ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ Top 10 Clientes (por uso)                                  ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ Cliente              | Mensagens | Conversas | Custo    ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ ‚îÇ
‚îÇ ‚îÇ Jo√£o Silva           | 1.234     | 45        | R$ 52,00 ‚îÇ ‚îÇ
‚îÇ ‚îÇ Maria Costa          | 987       | 38        | R$ 45,00 ‚îÇ ‚îÇ
‚îÇ ‚îÇ Pedro Santos         | 856       | 32        | R$ 38,00 ‚îÇ ‚îÇ
‚îÇ ‚îÇ ...                  | ...       | ...       | ...      ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ                      [Exportar Relat√≥rio PDF] [Exportar CSV]‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### F2: M√©tricas Dispon√≠veis

**Clientes:**
- Total de clientes
- Clientes ativos (pagos)
- Clientes em trial
- Clientes cancelados
- Crescimento mensal
- Taxa de churn

**Conversas:**
- Total de conversas
- Conversas por cliente (m√©dia)
- Conversas por dia
- Conversas com fallback (%)
- Tempo m√©dio de resposta

**Mensagens:**
- Total de mensagens
- Mensagens por conversa (m√©dia)
- Mensagens do bot vs humano
- Taxa de satisfa√ß√£o (se implementado)

**Financeiro:**
- MRR (Monthly Recurring Revenue)
- Receita total
- Ticket m√©dio
- Custo OpenAI
- Lucro l√≠quido
- Margem de lucro

**Convers√£o:**
- Taxa de convers√£o (trial ‚Üí pago)
- Tempo m√©dio at√© convers√£o
- Plano mais escolhido
- Cancelamentos por m√™s

---

### F3: Filtros e Per√≠odos

**Per√≠odos pr√©-definidos:**
- √öltimos 7 dias
- √öltimos 30 dias
- √öltimos 3 meses
- √öltimos 6 meses
- √öltimo ano
- Personalizado (data in√≠cio e fim)

**Filtros:**
- Por plano (mensal, trimestral, semestral)
- Por status (trial, ativo, cancelado)
- Por modelo de IA usado
- Por cliente espec√≠fico

---

### F4: Exporta√ß√£o de Relat√≥rios

**Formatos:**
- PDF (relat√≥rio completo com gr√°ficos)
- CSV (dados brutos para an√°lise)
- Excel (planilha formatada)

**Conte√∫do do PDF:**
- Capa com logo e per√≠odo
- Resumo executivo
- Todos os gr√°ficos
- Tabelas de dados
- Insights e recomenda√ß√µes

---

## üóÑÔ∏è Altera√ß√µes no Banco de Dados

### Nova Tabela: `metricas_diarias`

```sql
CREATE TABLE metricas_diarias (
    id SERIAL PRIMARY KEY,
    data DATE UNIQUE,
    total_clientes INTEGER DEFAULT 0,
    clientes_ativos INTEGER DEFAULT 0,
    clientes_trial INTEGER DEFAULT 0,
    clientes_cancelados INTEGER DEFAULT 0,
    novos_clientes INTEGER DEFAULT 0,
    conversoes INTEGER DEFAULT 0,
    cancelamentos INTEGER DEFAULT 0,
    total_conversas INTEGER DEFAULT 0,
    total_mensagens INTEGER DEFAULT 0,
    receita_dia DECIMAL(10,2) DEFAULT 0,
    custo_openai_dia DECIMAL(10,2) DEFAULT 0,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_metricas_data ON metricas_diarias(data DESC);
```

### Views para facilitar queries:

```sql
-- View de crescimento mensal
CREATE VIEW crescimento_mensal AS
SELECT 
    DATE_TRUNC('month', data) as mes,
    MAX(total_clientes) as clientes_fim_mes,
    SUM(novos_clientes) as novos_mes,
    SUM(cancelamentos) as cancelamentos_mes,
    SUM(receita_dia) as receita_mes
FROM metricas_diarias
GROUP BY DATE_TRUNC('month', data)
ORDER BY mes DESC;

-- View de taxa de convers√£o
CREATE VIEW taxa_conversao AS
SELECT 
    DATE_TRUNC('month', data) as mes,
    SUM(conversoes) as total_conversoes,
    SUM(novos_clientes) as total_trials,
    CASE 
        WHEN SUM(novos_clientes) > 0 
        THEN (SUM(conversoes)::float / SUM(novos_clientes) * 100)
        ELSE 0 
    END as taxa_conversao_percent
FROM metricas_diarias
GROUP BY DATE_TRUNC('month', data)
ORDER BY mes DESC;
```

---

## üîß Implementa√ß√£o T√©cnica

### Backend

**1. Servi√ßo de Analytics:**

**Arquivo:** `apps/backend/app/services/analytics_service.py`

```python
class AnalyticsService:
    async def calcular_metricas_diarias(self, data: date):
        """Calcula e salva m√©tricas do dia"""
        # Total de clientes
        # Clientes ativos, trial, cancelados
        # Novos clientes do dia
        # Convers√µes do dia
        # Cancelamentos do dia
        # Total de conversas
        # Total de mensagens
        # Receita do dia
        # Custo OpenAI do dia
        
    async def get_resumo_geral(self, data_inicio: date, data_fim: date):
        """Retorna resumo geral do per√≠odo"""
        # Somar m√©tricas do per√≠odo
        # Calcular crescimento
        # Calcular m√©dias
        
    async def get_crescimento_clientes(self, meses: int = 6):
        """Retorna dados para gr√°fico de crescimento"""
        # Buscar √∫ltimos N meses
        # Retornar array de [mes, total_clientes]
        
    async def get_receita_mensal(self, meses: int = 6):
        """Retorna dados para gr√°fico de receita"""
        # Buscar √∫ltimos N meses
        # Retornar array de [mes, receita]
        
    async def get_distribuicao_planos(self):
        """Retorna distribui√ß√£o de clientes por plano"""
        # Contar clientes por plano
        # Calcular percentuais
        
    async def get_taxa_conversao(self, meses: int = 6):
        """Retorna taxa de convers√£o ao longo do tempo"""
        # Usar view taxa_conversao
        
    async def get_top_clientes(self, limit: int = 10):
        """Retorna top clientes por uso"""
        # Ordenar por mensagens/conversas
        # Incluir custo OpenAI
        
    async def exportar_pdf(self, data_inicio: date, data_fim: date):
        """Gera relat√≥rio PDF"""
        # Usar biblioteca reportlab ou weasyprint
        # Incluir todos os gr√°ficos
        # Retornar arquivo PDF
        
    async def exportar_csv(self, data_inicio: date, data_fim: date):
        """Gera arquivo CSV"""
        # Buscar dados brutos
        # Formatar como CSV
        # Retornar arquivo
```

**2. Cron Job para calcular m√©tricas:**

```python
# Executar todo dia √† meia-noite
@scheduler.scheduled_job('cron', hour=0, minute=0)
async def calcular_metricas_diarias():
    service = AnalyticsService()
    ontem = date.today() - timedelta(days=1)
    await service.calcular_metricas_diarias(ontem)
```

**3. Rotas da API:**

```
GET /api/v1/admin/analytics/resumo
Query: ?data_inicio=2026-01-01&data_fim=2026-02-09
Response: {
  "total_clientes": 45,
  "crescimento_clientes": 12,
  "total_conversas": 1234,
  "crescimento_conversas": 25,
  "total_mensagens": 8567,
  "crescimento_mensagens": 15,
  "taxa_conversao": 18
}

GET /api/v1/admin/analytics/crescimento-clientes
Query: ?meses=6
Response: {
  "labels": ["Set", "Out", "Nov", "Dez", "Jan", "Fev"],
  "data": [10, 15, 22, 30, 38, 45]
}

GET /api/v1/admin/analytics/receita-mensal
Query: ?meses=6
Response: {
  "labels": ["Set", "Out", "Nov", "Dez", "Jan", "Fev"],
  "data": [1470, 2205, 3234, 4410, 5586, 6615]
}

GET /api/v1/admin/analytics/distribuicao-planos
Response: {
  "labels": ["Mensal", "Trimestral", "Semestral"],
  "data": [20, 16, 9],
  "percentuais": [45, 35, 20]
}

GET /api/v1/admin/analytics/taxa-conversao
Query: ?meses=6
Response: {
  "labels": ["Set", "Out", "Nov", "Dez", "Jan", "Fev"],
  "data": [15, 22, 18, 25, 20, 18]
}

GET /api/v1/admin/analytics/top-clientes
Query: ?limit=10
Response: {
  "clientes": [
    {
      "nome": "Jo√£o Silva",
      "mensagens": 1234,
      "conversas": 45,
      "custo": 52.00
    },
    ...
  ]
}

GET /api/v1/admin/analytics/exportar-pdf
Query: ?data_inicio=2026-01-01&data_fim=2026-02-09
Response: (arquivo PDF)

GET /api/v1/admin/analytics/exportar-csv
Query: ?data_inicio=2026-01-01&data_fim=2026-02-09
Response: (arquivo CSV)
```

---

### Frontend

**1. P√°gina de Analytics:**

**Componente:** `apps/frontend/app/admin/analytics/page.tsx`

**Funcionalidades:**
- Filtros de per√≠odo
- Cards de resumo
- Gr√°ficos (Recharts)
- Tabela de top clientes
- Bot√µes de exporta√ß√£o

**2. Componentes de Gr√°ficos:**

**Componente:** `apps/frontend/components/admin/charts/LineChart.tsx`
- Gr√°fico de linha (crescimento, taxa de convers√£o)

**Componente:** `apps/frontend/components/admin/charts/BarChart.tsx`
- Gr√°fico de barras (receita mensal)

**Componente:** `apps/frontend/components/admin/charts/PieChart.tsx`
- Gr√°fico de pizza (distribui√ß√£o de planos)

**3. Componente de Filtros:**

**Componente:** `apps/frontend/components/admin/AnalyticsFilters.tsx`

**Funcionalidades:**
- Dropdown de per√≠odos pr√©-definidos
- Date pickers para per√≠odo personalizado
- Filtros adicionais (plano, status)
- Bot√£o "Aplicar Filtros"

---

## ‚úÖ Checklist de Implementa√ß√£o

### Backend
- [ ] Criar tabela `metricas_diarias`
- [ ] Criar views `crescimento_mensal` e `taxa_conversao`
- [ ] Criar servi√ßo `AnalyticsService`
- [ ] Implementar c√°lculo de m√©tricas di√°rias
- [ ] Criar rota `GET /api/v1/admin/analytics/resumo`
- [ ] Criar rota `GET /api/v1/admin/analytics/crescimento-clientes`
- [ ] Criar rota `GET /api/v1/admin/analytics/receita-mensal`
- [ ] Criar rota `GET /api/v1/admin/analytics/distribuicao-planos`
- [ ] Criar rota `GET /api/v1/admin/analytics/taxa-conversao`
- [ ] Criar rota `GET /api/v1/admin/analytics/top-clientes`
- [ ] Criar rota `GET /api/v1/admin/analytics/exportar-pdf`
- [ ] Criar rota `GET /api/v1/admin/analytics/exportar-csv`
- [ ] Configurar cron job para m√©tricas di√°rias
- [ ] Instalar biblioteca para PDF (reportlab ou weasyprint)

### Frontend
- [ ] Criar p√°gina `/admin/analytics`
- [ ] Criar componente `AnalyticsFilters`
- [ ] Criar componente `LineChart`
- [ ] Criar componente `BarChart`
- [ ] Criar componente `PieChart`
- [ ] Criar componente `TopClientesTable`
- [ ] Implementar filtros de per√≠odo
- [ ] Implementar exporta√ß√£o PDF
- [ ] Implementar exporta√ß√£o CSV
- [ ] Adicionar link no menu lateral

### Testes
- [ ] Testar c√°lculo de m√©tricas di√°rias
- [ ] Testar resumo geral
- [ ] Testar gr√°fico de crescimento
- [ ] Testar gr√°fico de receita
- [ ] Testar distribui√ß√£o de planos
- [ ] Testar taxa de convers√£o
- [ ] Testar top clientes
- [ ] Testar exporta√ß√£o PDF
- [ ] Testar exporta√ß√£o CSV
- [ ] Testar filtros de per√≠odo

---

## üß™ Casos de Teste

### CT1: C√°lculo de M√©tricas Di√°rias
1. Executar cron job
2. Verificar tabela `metricas_diarias`
3. **Esperado:** Registro criado com m√©tricas do dia anterior

### CT2: Resumo Geral
1. Acessar p√°gina de analytics
2. Selecionar "√öltimos 30 dias"
3. **Esperado:** Cards mostram m√©tricas corretas

### CT3: Gr√°fico de Crescimento
1. Ver gr√°fico de crescimento de clientes
2. **Esperado:** Linha mostra evolu√ß√£o dos √∫ltimos 6 meses

### CT4: Distribui√ß√£o de Planos
1. Ver gr√°fico de pizza
2. **Esperado:** Percentuais corretos por plano

### CT5: Top Clientes
1. Ver tabela de top 10 clientes
2. **Esperado:** Ordenado por mensagens, com custo correto

### CT6: Exportar PDF
1. Clicar "Exportar Relat√≥rio PDF"
2. **Esperado:** Download de PDF com todos os gr√°ficos

### CT7: Exportar CSV
1. Clicar "Exportar CSV"
2. **Esperado:** Download de CSV com dados brutos

### CT8: Filtro Personalizado
1. Selecionar per√≠odo personalizado (01/01 a 31/01)
2. **Esperado:** M√©tricas atualizadas para o per√≠odo

---

## üìù Notas Importantes

1. **M√©tricas di√°rias** - Calcular todo dia √† meia-noite
2. **Performance** - Usar views e √≠ndices para queries r√°pidas
3. **Gr√°ficos responsivos** - Usar Recharts com responsividade
4. **Exporta√ß√£o** - PDF deve incluir todos os gr√°ficos
5. **Filtros** - Permitir an√°lise de per√≠odos espec√≠ficos
6. **Cache** - Cachear m√©tricas pesadas (1 hora)

---

## üöÄ Pr√≥ximos Passos

Ap√≥s completar FASE F:
- [ ] Marcar como completa no README.md
- [ ] Passar para FASE C (Treinar IA)

---

**Status:** ‚è≥ Aguardando implementa√ß√£o
